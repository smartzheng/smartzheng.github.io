<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.55.6" />


<title>在Windows配置Centos服务器实现Android项目远程打包 - smartzheng</title>
<meta property="og:title" content="在Windows配置Centos服务器实现Android项目远程打包 - smartzheng">



  






<link rel="stylesheet" href="https://smartzheng.github.io/css/main.css" media="all">
<link rel="stylesheet" href="https://smartzheng.github.io/css/fonts.css">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://smartzheng.github.io/" class="nav-logo">
    <img src="https://smartzheng.github.io/images/logo.png" 
         width="50" 
         height="50" 
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/categories">Categories</a></li>
    
    <li><a href="https://github.com/smartzheng">About</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">
  <article class="article">
    <h1 class="article-title">在Windows配置Centos服务器实现Android项目远程打包</h1>
    

    <div class="article-content">
      <p>####0.需求
平时开发测试环节中涉及多次回归测试，于是考虑对服务器进行配置，当开发完后每次push代码，测试部门即可从服务器打包pull进行测试。
####1.连接服务器
我用的是PuTTY 进行连接，软件可自行Google下载，安装完成之后填写id和password即可登录到CentOs服务器。（本文CentOS的版本为6.8，且已配置好JDK）
####2.配置AndroidSDK
#####1）下载sdktools
-  进入etc，创建文件夹</p>

<pre><code>cd /etc  
</code></pre>

<pre><code>mkdir androidSdk
</code></pre>

<ul>
<li><p>下载，解压</p>

<pre><code>wget https://dl.google.com/android/repository/sdk-tools-linux-3859397.zip  
</code></pre>

<pre><code>unzip sdk-tools-linux-3859397.zip 
</code></pre></li>
</ul>

<p>#####2）配置环境变量<br />
-  打开etc目录下的profile</p>

<pre><code>cd etc
</code></pre>

<pre><code>vi profile
</code></pre>

<ul>
<li><p>打开后输入i进入编辑模式，在文件末尾插入以下命令</p>

<pre><code>export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL 
</code></pre>

<pre><code>export PATH=$PATH:/etc/androidSdk/tools/bin
</code></pre></li>

<li><p>esc退出编辑，:w进行保存，:q退出文件</p></li>

<li><p>执行：<code>source profile</code> 生效</p></li>

<li><p>执行<code>sdkmanager</code>检查是否安装成功
#####3）安装必要的package</p></li>

<li><p>根据需要执行安装以下的package
build-tools;25.0.3<br />
emulator<br />
extras;android;m2repository
patcher;v4<br />
platform-tools<br />
platforms;android-25<br />
tools<br />
安装命令为：<code>sdkmanager &quot;build-tools;26.0.0&quot;</code><br />
将命令中的build-tools;26.0.0依次替换为上面的包名称+版本号可依次安装，也可选择需要的版本。<br />
#####4）配置platform tools</p></li>

<li><p>在etc/profile中添加以下命令，方法同上面配置tools<br />
<code>export PATH=$PATH:/etc/androidSdk/platform-tools</code></p></li>

<li><p>配置完成后可以执行adb命令检查
####3.配置gradle
#####1）下载</p></li>

<li><p>进入etc，创建文件夹</p>

<pre><code>cd /etc  
</code></pre>

<pre><code>mkdir gradle
</code></pre></li>

<li><p>下载，解压</p>

<pre><code>wget https://services.gradle.org/distributions/gradle-4.0.1-bin.zip  
</code></pre>

<pre><code>unzip gradle-4.0.1-bin.zip 
</code></pre>

<p>#####2）配置gradle</p></li>

<li><p>在etc/profile中添加以下命令，方法同上面配置tools</p>

<pre><code>export PATH=$PATH:/etc/gradle/gradle-4.0.1/bin
</code></pre></li>

<li><p>配置完成后可以执行gradle命令检查
####4.配置git</p></li>

<li><p>直接执行<br />
<code>yum install git</code><br />
####5.完成</p></li>

<li><p>接下来可以直接pull代码，进入到项目根目录执行<code>gradle assRelease</code>打包。</p></li>
</ul>

    </div>
 
    <ul class="article-taxonomy">
                  
      <hr>
      <li>
        <i class="fa fa-category"></i><a href="/categories/android">Android</a>
      </li>
      
    
      
  </article>

</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="https://smartzheng.github.io/index.xml" type="application/rss+xml" target="_blank"><i class="fa fa-rss"></i> RSS feed</a>
          </li>
          <li>
            <a href="https://github.com/mobybit/hugo-natrium-theme"><i class="fa fa-github"></i> Code</a>
          </li>
          <li>
            <a href="https://smartzheng.github.io/site-notice">Site notice</a>
          </li>
        </ul>
      </footer>

    </div>

  </body>
</html>

